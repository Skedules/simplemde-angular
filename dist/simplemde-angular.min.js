angular.module("simplemde",[]).directive("simplemde",["$parse","$timeout",function(e,r){var n;return n=null,{restrict:"A",require:"ngModel",controller:["$scope",function(e){return{get:function(){return e.simplemde.instance},rerenderPreview:function(r){return e.simplemde.rerenderPreview(r)}}}],link:function(r,i,t,l){var o,u;o=e(t.simplemde)(r)||{},o.element=i[0],n=new SimpleMDE(o),n.codemirror.on("change",function(){r.$applyAsync(function(){l.$setViewValue(n.value())})}),l.$render=function(){var e;e=l.$modelValue,n.value(e),n.isPreviewActive()&&u(e)},u=function(e){var r;return!!n.isPreviewActive()&&(e||(e=n.value()),r=n.codemirror.getWrapperElement().querySelector(".editor-preview"),r.innerHTML=n.options.previewRender(e,r),!0)},r.simplemde={instance:n,rerenderPreview:u}}}}]);